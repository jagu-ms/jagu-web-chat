{"version":3,"sources":["Auth.js","AppRoute.js","components/Error.js","components/Avatar.js","assets/avatar.png","components/chat/ContactHeader.js","components/chat/Contact.js","components/chat/Contacts.js","components/chat/ChatHeader.js","components/chat/Message.js","components/chat/Messages.js","components/chat/MessageForm.js","components/side/UserProfile.js","components/side/EditProfile.js","views/Chat.js","views/NotFound.js","assets/jagulogo.jpg","views/Register.js","views/Login.js","assets/logo.png","views/Password.js","App.js","reportWebVitals.js","index.js"],"names":["Auth","login","user","localStorage","setItem","JSON","stringify","axios","defaults","headers","common","token","init","parse","getItem","auth","guest","logout","removeItem","getToken","setUser","newProfile","AppRoute","Component","component","can","redirect","rest","render","props","to","Error","error","Alert","color","Avatar","src","file","className","alt","ContactHeader","Row","avatar","onClick","toggle","moment","locale","Contact","contact","status","name","message","content","date","format","unseen","Badge","Contacts","state","search","onSearch","e","setState","target","value","renderContact","index","includes","messages","filter","sender","id","receiver","lastMessage","length","seen","onChangeNavigate","bind","Input","onChange","this","placeholder","contacts","map","React","withRouter","typing","fromNow","Nav","navbar","UncontrolledDropdown","DropdownToggle","tag","DropdownMenu","DropdownItem","history","push","divider","Message","outgoing","Messages","renderMessage","MessageForm","lastType","onSend","Date","getTime","onKeyDown","key","shiftKey","sendType","preventDefault","type","rows","UserProfile","open","about","EditProfile","showFileUpload","fileUpload","current","click","onImageChange","files","image","URL","createObjectURL","onSubmit","data","FormData","append","post","then","catch","err","response","onClose","createRef","style","overflow","Form","ref","required","autoComplete","Button","block","Chat","userProfile","profile","initSocketConnection","socket","socketIO","process","query","on","connected","users","updateUsersState","onNewUser","onUpdateUser","onNewMessage","onTypingMessage","concat","forEach","element","emit","clearTimeout","timeout","setTimeout","typingTimeout","sendMessage","userProfileToggle","profileToggle","disconnect","renderChat","Spinner","NotFound","Register","username","password","res","Card","Logo","autoFocus","getFullYear","Login","Password","newPassword","logo","width","App","path","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.df24e63e.chunk.js","sourcesContent":["import axios from 'axios';\r\n//Dealing with local storage.\r\nconst Auth = {\r\n    login: user => {\r\n        localStorage.setItem('user', JSON.stringify(user));\r\n        axios.defaults.headers.common['Authorization'] = user.token\r\n    },\r\n    init: () => {\r\n        let user = JSON.parse(localStorage.getItem('user'));\r\n        axios.defaults.headers.common['Authorization'] = user !== null ? user.token : \"\";\r\n    },\r\n    auth: () => localStorage.getItem('user') !== null,\r\n    guest: () => localStorage.getItem('user') === null,\r\n    logout: () => {\r\n        delete axios.defaults.headers.common['Authorization'];\r\n        localStorage.removeItem('user');\r\n    },\r\n    getToken: () => {\r\n        let user = JSON.parse(localStorage.getItem('user'));\r\n        return user !== null ? user.token : '';\r\n    },\r\n    setUser: (newProfile) => {\r\n        let user = JSON.parse(localStorage.getItem('user'));\r\n        newProfile.token = user.token;\r\n        localStorage.setItem('user', JSON.stringify(newProfile));\r\n    }\r\n}\r\n\r\nexport default Auth;\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst AppRoute = ({component: Component,  can = () => true, redirect, ...rest }) => (\r\n    <Route {...rest} render={(props) => (\r\n        can() ? <Component {...props} /> : <Redirect to={redirect} />\r\n    )} />\r\n)\r\n\r\nexport default AppRoute; ","import React from 'react';\r\nimport {Alert} from 'reactstrap';\r\n\r\nconst Error = props => {\r\n    return (\r\n        props.error ? <Alert color=\"danger\">{props.error}</Alert> : \"\"\r\n    )\r\n}\r\n\r\nexport default Error;","import React from \"react\";\r\nimport avatar from \"assets/avatar.png\";\r\n\r\n\r\nconst Avatar = props => {\r\n  let src = props.src ? `uploads/${props.src}` : avatar;\r\n    return <img src={props.file ||src} className=\"img-fluid rounded-circle mr-3 avatar\" alt=\"\" />\r\n};\r\n\r\nexport default Avatar;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAMFBMVEXR0cn////Ozsb5+fjd3dfn5+PV1c7t7er29vTT08vv7+z6+vnf39ry8vDZ2dLi4t3+Z5MVAAAFjUlEQVR4nO2dC7aqMAxFIVAERJj/bJ+9LFQUlLRJk/C6R8BZSfPrh6LIZDKZTCaTyWQymUwmk8lkTgkASH8CD3dh0NTDNDnnpmmoGziT1LuU0fVVuabq3VicQSXA6Npyj9aNxkVCc7nuypu5Xhq7GqHet97KkoNNjTD9Mt8Lkz1nhQGhzzvrZEsijO+h8zdVbUljj9bn6aU/+yhQB+nz2DAjXIIFluXFgMTuWIbYo+2kBfwAxih9nlG1GSOW4BPNixEGAoFlqbfEgYlEoK9wpKVsQ2RBj04rEgSZJyrXYkMosCwbaTkb4CrtX1yl5XwAN1KBZXlT5qdkYfSJsoDakQtUthQhrhjdplVkRAYf9WjyUxaBZSkt60FUR/gNNd0iba5/RUmwgbCpzBF6HUbkM6ESI7KtQo+OlcgoUEU4ZcqFC07eiICfbmOo5BVyxhnPKC0QHLNCcTdlqblfEXdTjrZpjfQQnG6+tsckK5A13c8IV27MucIjvRDZBUovRO5s6JGtvin2mn5RSwpkz/ce0ZyfIJQKB1PySfcWotNv9prNIzo3TaJQNCEmSPhleRVVSLultsPpFcra8PxemmOpfYXnz/gpqjbZuTfvOHhGdtp2+u7pP+iAU0wxZAUmSBfCRzISBFPpLUT+UDPICkywEKUFsi9E+ZNR3Dlf/mAU9+aT/GkMZjeVd1Lu/TXxSFpwTzIUmJB3si++iz/DqFB6i3uG0YjSFdsDNoXSwhbYjKhkFRZ84VSNQK4OQ3Z8sYblmLCyWzMMCqUlvUHvp5p81EMeT9WkwgfEPYaGnuIDypSh7/qhh7IX1lGPfkB3EVj86PMOZHed9T6rQCRRr8CCZqdGtcB7uIk9u3BVGmSeRJaoSm6rfSXqmpD8/PcI0IR6amXmcbrAIlVPS/8b6PDHUG5mDDgDI64Sb5XniC0wGluVr7X8Bppje+CmX78shl8L8jYUdvX9cRe5+4bp9WJe3gxAV7t+vSrb3g2dvSc9v+BfRu7Gsa6Huh7H7lQPJWcymUwmk1kBC9IfQsyfpG6sh8m5i8e5aajHrjiDVv9Xi+Fekm6X3ldfnDZ2ZXpxlyNNcHvxMqU/Fwl865l2+ygzKu/G+/LTji+2dCZM6eWFD/Yrp32gAcUUu9ndTorbfhhpjtVonUwd/efKEW4Kp6cw0F4J1vY/D6jprzxXiuyIneAfRcukP2QX5ih9p0Aj8xM14jtuUHO/qiC9HPmen30ieIaP5I8kB7hKmTHJI1EzIqsx/DxCCAK/EErloQ9Se2pCD11Ie9SG8QnvfZLG1BSPtnyS7mR0k+R1qA2qNPGG9J9AWFLcCk4eRNfwn48WFsgvUVwgt6OKrsEFVokaBLJexkjxotABGC/USOXBd7hew0zy/NwxeC5fitSie3A0jALdxDcY/gEpnwjXkOcM/n8gIKEOqIqizALt7Rpli3CGdCnqqGXeIaxt0jyIjIau50/ySmkIZMMpnT7qIfJTpT7qoaneVMbRBZKnJdTl+lco3vpWVXB/QlCCK+l6d4k3YYoXu2OINqLeTLEQmTEUVtzvRG7YaOsKt4gyogETRhpR/yr0xJhQdy5ciAinqsuZJ+GFjeqK9JXgh2oVNxVrglthC6liJjBhqC/YngTGGiNxxhMYa1L8YYWKoL1vE/XMQlhdI/3VGILc1JKTBrmpoUjqCYmm0t+MIyDp20n3M+ikb6YmXUDXpqZyhQefL6S/GAv6BIq1ZYju9M0tQ3RGNJYNPciMaKb5fYI8uWCoc1pAhhobY8Q1KIHGyu4Z1Ckpg6EUuR9sZBS8ZkIptFazeVB1G0h/bQiodGFSIapFNJgOkbMai+kQ9/MkmwoRAg32Th7MIIP3r41cYBRaLNpwZZtNhZge2KaXYgpTm5FmU+E/dmdklf1GTzoAAAAASUVORK5CYII=\"","import React from 'react';\r\nimport Avatar from 'components/Avatar';\r\nimport { Row } from 'reactstrap';\r\n\r\nconst ContactHeader = (props) => (\r\n    \r\n        <Row className=\"heading\">\r\n            <Avatar src={props.user.avatar}/>\r\n            <div>contacts</div>\r\n            <div className=\"ml-auto nav-link\" onClick={props.toggle} >\r\n                <li className=\"fa fa-bars\"/>\r\n            </div>\r\n        </Row>\r\n)\r\n\r\nexport default ContactHeader;","import React from 'react';\r\nimport Avatar from 'components/Avatar';\r\nimport moment from 'moment';\r\nimport { Badge } from 'reactstrap';\r\nmoment.locale('en');\r\n\r\nconst Contact = props => (\r\n    <div className=\"contact\">\r\n        <div>\r\n            <Avatar src={props.contact.avatar} />\r\n            {props.contact.status === true ? <i className='fa fa-circle online' /> : ''}\r\n        </div>\r\n        <div className=\"w-50\">\r\n            <div className=\"name\">{props.contact.name}</div>\r\n            <div className=\"small last-message\">\r\n                {props.message ? props.message.content : 'Click here to start chating'}\r\n            </div>\r\n        </div>\r\n        <div className=\"flex-grow-1 text-right\">\r\n            <div className=\"small text-muted\">\r\n                {props.message ? moment(props.message.date).format(\"hh:mm a\") : ''}\r\n            </div>\r\n            { props.unseen > 0 ? <Badge color=\"success\">{props.unseen}</Badge> : ''}\r\n        </div>\r\n    </div>\r\n);\r\n\r\nexport default Contact;","import React from \"react\";\r\nimport Contact from \"./Contact\";\r\nimport { Row, Input } from 'reactstrap';\r\n\r\n\r\nclass Contacts extends React.Component {\r\n\r\n    state = { search: ''};\r\n\r\n    \r\n    onSearch = e => this.setState({search: e.target.value});\r\n\r\n    render(){\r\n        return (\r\n            <div className=\"list\">\r\n                <Row className=\"search\">\r\n                    <Input onChange={this.onSearch} placeholder=\"search\" />\r\n                </Row>\r\n                <Row id=\"contacts\">\r\n                        {this.props.contacts.map((contact, index) => this.renderContact(contact, index) )}\r\n                </Row>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    \r\n    renderContact = (contact, index) => {\r\n        if(!contact.name.includes(this.state.search)) return;\r\n        let messages = this.props.messages.filter(e => e.sender === contact.id || e.receiver === contact.id);\r\n        let lastMessage = messages[messages.length - 1];\r\n        let unseen = messages.filter(e => !e.seen && e.sender === contact.id).length;\r\n        return(\r\n            <div className=\"w-100\" key={index} onClick={this.props.onChangeNavigate.bind(this, contact)} >\r\n                <Contact contact={contact} message={lastMessage} unseen={unseen} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default Contacts;","import React from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Auth from 'Auth';\r\nimport Avatar from \"components/Avatar\";\r\nimport moment from \"moment\";\r\nimport { Row, DropdownItem, DropdownMenu, DropdownToggle, Nav, UncontrolledDropdown} from \"reactstrap\";\r\n\r\n\r\nconst ChatHeader = props => {\r\n\r\n    const logout = () => {\r\n        Auth.logout();\r\n        /* mine */props.logout();\r\n        props.history.push('/');\r\n    };\r\n\r\n    const status = () => {\r\n        if(props.typing) return 'typing now';\r\n        if(props.contact.status === true) return 'online now';\r\n        if(props.contact.status) return moment(props.contact.status).fromNow();\r\n    };\r\n\r\n    /**\r\n     * Render Component\r\n     */\r\n    return (\r\n        <Row className=\"heading m-0\">\r\n            <div onClick={props.toggle} >\r\n                <Avatar src={props.contact.avatar} />\r\n            </div>\r\n            <div className=\"text-left\">\r\n                <div>{props.contact ? props.contact.name : ''}</div>\r\n                <small>{status()}</small>\r\n            </div>\r\n            <Nav className=\"ml-auto\" navbar>\r\n                <UncontrolledDropdown>\r\n                    <DropdownToggle tag=\"a\" className=\"nav-link\">\r\n                        <i className=\"fa fa-ellipsis-v\" />\r\n                    </DropdownToggle>\r\n                    <DropdownMenu>\r\n                        <DropdownItem onClick={e => props.history.push('/password')}>Changing password</DropdownItem>\r\n                        <DropdownItem divider />\r\n                        <DropdownItem onClick={logout}>Logout </DropdownItem>\r\n                    </DropdownMenu>\r\n                </UncontrolledDropdown>\r\n            </Nav>\r\n        </Row>\r\n    );\r\n};\r\n\r\nexport default withRouter(ChatHeader);","import React from \"react\";\r\nimport moment from 'moment';\r\n\r\nconst Message = props => (\r\n    <div className={props.message.outgoing ? 'message-item incoming' : 'message-item'}>\r\n        <div className=\"d-flex flex-row\">\r\n            <div className=\"body m-1 mr-2\">\r\n                <div>{props.message.content}</div>\r\n                <span className=\"small text-muted\">\r\n                    {moment(props.message.date).format(\"hh:mm a | MMM D\") }\r\n                </span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nexport default Message;","import React from \"react\";\r\nimport Message from \"./Message\";\r\n\r\n\r\nclass Messages extends React.Component {\r\n\r\n    \r\n    render() {\r\n        return (\r\n            <div id=\"messages\">\r\n                {this.props.messages.map(this.renderMessage)}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderMessage = (message, index) => {\r\n        message.outgoing = message.receiver !== this.props.user.id;\r\n        return <Message key={index} message={message} />\r\n    };\r\n\r\n}\r\n\r\nexport default Messages;","import React from \"react\";\r\nimport { Input } from \"reactstrap\";\r\nimport moment from \"moment\";\r\n\r\n\r\nclass MessageForm extends React.Component {\r\n\r\n    state= { message: '', lastType: false };\r\n\r\n    \r\n    onChange = e => this.setState({message: e.target.value});\r\n\r\n    \r\n    onSend = e => {\r\n        if(!this.state.message) return;\r\n        let message = {\r\n            content: this.state.message,\r\n            date: new Date().getTime()\r\n        };\r\n        this.props.sender(message);\r\n        this.setState({message: ''});\r\n    };\r\n\r\n    \r\n    onKeyDown = e => {\r\n        if(e.key === 'Enter' && !e.shiftKey){\r\n            this.setState({lastType: false});\r\n            this.onSend();\r\n            e.preventDefault();\r\n        } else if (!this.state.lastType || moment() - this.state.lastType > 2000){\r\n            this.setState({lastType: moment()});\r\n            this.props.sendType();\r\n        }\r\n    };\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"send-message\">\r\n                <Input type=\"textarea\" rows=\"1\" onChange={this.onChange} onKeyDown={this.onKeyDown}  value={this.state.message} placeholder=\"Write your message here\"/>\r\n                <i className=\"fa fa-send text-muted px-3 send\" onClick={this.onSend}/>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default MessageForm;","import React from \"react\";\r\nimport Avatar from 'components/Avatar';\r\nimport { Row } from \"reactstrap\";\r\n\r\n\r\nconst UserProfile = props => (\r\n\r\n    <div className={props.open ? 'side-profile open' : 'side-profile'}>\r\n\r\n        <Row className=\"heading\">\r\n            <div className=\"mr-auto ml-4\">{props.contact.name}</div>\r\n            <div className=\"mr-2 nav-link\" onClick={props.toggle}>\r\n                <i className=\"fa fa-arrow-right\" />\r\n            </div>\r\n        </Row>\r\n\r\n        <div className=\"d-flex flex-column overflow-auto\">\r\n            <Avatar src={props.contact.avatar}/>\r\n            <div className=\"bg-white px-3 py-2\">\r\n                <label className=\"text-muted\">About</label>\r\n                <p>{props.contact.about ? props.contact.about : `i'm ${props.contact.name}`}</p>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n);\r\n\r\nexport default UserProfile;","import React from \"react\";\r\nimport { Row, Form, Input, Button } from \"reactstrap\";\r\nimport Error from \"components/Error\";\r\nimport Avatar from 'components/Avatar';\r\nimport axios from \"axios\";\r\n\r\nclass EditProfile extends React.Component {\r\n\r\n    state = {name: this.props.user.name, about: this.props.user.about};\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.fileUpload = React.createRef();\r\n    }\r\n\r\n    showFileUpload = e  => this.fileUpload.current.click();\r\n\r\n    onImageChange = e => {\r\n        if (e.target.files && e.target.files[0]) {\r\n            this.setState({\r\n                image: URL.createObjectURL(e.target.files[0]),\r\n                avatar: e.target.files[0]\r\n            });\r\n        }\r\n    };\r\n\r\n    onChange = e => this.setState({[e.target.name]: e.target.value, error: null});\r\n\r\n    onSubmit = e => {\r\n        e.preventDefault();\r\n        const data = new FormData();\r\n        data.append('name', this.state.name);\r\n        data.append('about', this.state.about);\r\n        if (this.state.avatar) data.append('avatar', this.state.avatar, this.state.avatar.name);\r\n        axios.post('/api/account', data)\r\n        .then(this.props.toggle)\r\n        .catch(err => this.setState({\r\n            error: err.response.data.message\r\n        }));\r\n    };\r\n\r\n    onClose = e => {\r\n        this.setState({image: false, name: this.props.user.name, about: this.props.user.about});\r\n        this.props.toggle();\r\n    };\r\n\r\n    render(){\r\n        return (\r\n            <div className={this.props.open ? 'side-profile open' : 'side-profile'}>\r\n                <Row className=\"heading\">\r\n                    <div className=\"mr-auto ml-4\">Profile</div>\r\n                    <div className=\"mr-2 nav-link\" onClick={this.onClose}>\r\n                        <i className=\"fa fa-arrow-right\" />\r\n                    </div>\r\n                </Row>\r\n\r\n                <div className=\"d-flex flex-column\" style={{overflow: 'auto'}}>\r\n                    <Form onSubmit={this.onSubmit}>\r\n                        <Error error={this.state.error} />\r\n\r\n                        <div className=\"text-center\" onClick={this.showFileUpload}>\r\n                            <Avatar src={this.props.user.avatar} file={this.state.image}/>\r\n                        </div>\r\n\r\n                        <input type=\"file\" ref={this.fileUpload} onChange={this.onImageChange} className=\"d-none\"/>\r\n\r\n                        <div className=\"bg-white px-4 py-2\">\r\n                            <label className=\"text-muted\">Name</label>\r\n                            <Input value={this.state.name} name=\"name\" onChange={this.onChange} required  autoComplete=\"off\"/>\r\n                        </div>\r\n\r\n                        <div className=\"bg-white px-3 py-2\">\r\n                            <label className=\"text-muted\">About</label>\r\n                            <Input value={this.state.about} name=\"about\" onChange={this.onChange} required autoComplete=\"off\" />\r\n                        </div>\r\n\r\n                        <div className=\"bg-white px-3 py-2\">\r\n                            <Button block className=\"mt-3\">save</Button>\r\n                        </div>\r\n                    </Form>\r\n                </div>\r\n            </div>\r\n            \r\n        );\r\n    }\r\n}\r\n\r\nexport default EditProfile;","import React from 'react';\r\nimport { Row, Spinner} from 'reactstrap';\r\nimport { ContactHeader, Contacts, ChatHeader, Messages, MessageForm, UserProfile, EditProfile} from 'components';\r\nimport socketIO from 'socket.io-client';\r\nimport Auth from 'Auth';\r\n\r\nclass Chat extends React.Component {\r\n\r\n    state = {\r\n        contacts:[],\r\n        contact: {},\r\n        userProfile: false,\r\n        profile: false,\r\n    };\r\n    \r\n    \r\n    componentDidMount(){\r\n        this.initSocketConnection();\r\n    }\r\n\r\n    initSocketConnection = () => {\r\n        let socket = socketIO(process.env.REACT_APP_SOKET, {\r\n            query: 'token=' + Auth.getToken()\r\n        });\r\n        socket.on('connect', () => this.setState({connected: true}));\r\n        socket.on('disconnect', () => this.setState({connected: false}));\r\n        socket.on('data', (user, contacts, messages, users) => {\r\n            \r\n            let contact = contacts[0] || {};\r\n            /* About messages. we have all messages that are sent from me and others are send\r\n            to me .the condition is in server/socket-handler.js/line 69. Then we will filter \r\n            them as messages that are sent to me from this contact, and others that are sent\r\n             from me to this contact. The conditions are in serve/src/views/Chat.js line 178 */ \r\n            this.setState({ messages, contacts, user, contact} ,() => {\r\n                this.updateUsersState(users);\r\n            })\r\n        });\r\n        socket.on('new_user', this.onNewUser);\r\n        socket.on('update_user', this.onUpdateUser);\r\n        socket.on('message', this.onNewMessage);\r\n        socket.on('user_status', this.updateUsersState);\r\n        socket.on('typing', this.onTypingMessage);\r\n        socket.on('error', err => {\r\n            if(err === 'auth_error'){\r\n                Auth.logout();\r\n                this.props.history.push('/login');\r\n            }\r\n        });\r\n        this.setState({socket});\r\n    }\r\n\r\n    onNewUser = user => {\r\n        let contacts = this.state.contacts.concat(user);\r\n        this.setState({contacts});\r\n    }\r\n\r\n    onUpdateUser = user => {\r\n        if (this.state.user.id === user.id) {\r\n            this.setState({user});\r\n            Auth.setUser(user);\r\n            return;\r\n        }\r\n\r\n        let contacts = this.state.contacts;\r\n        contacts.forEach((element, index) => {\r\n            if(element.id === user.id) {\r\n                contacts[index] = user;\r\n                contacts[index].status = element.status;\r\n            }\r\n        });\r\n\r\n        this.setState({contacts});\r\n        if (this.state.contact.id === user.id) this.setState({contact: user});\r\n    };\r\n\r\n    onNewMessage = message => {\r\n        if(message.sender === this.state.contact.id){\r\n            this.setState({typing: false});\r\n            this.state.socket.emit('seen', this.state.contact.id);\r\n            message.seen = true;\r\n        }\r\n        let messages = this.state.messages.concat(message);\r\n        this.setState({messages});\r\n    }\r\n\r\n    onTypingMessage = sender => {\r\n        if(this.state.contact.id !== sender) return;\r\n        this.setState({typing: sender});\r\n        clearTimeout(this.state.timeout);\r\n        const timeout = setTimeout(this.typingTimeout, 3000);\r\n        this.setState({timeout});\r\n    }\r\n\r\n    typingTimeout = () => this.setState({typing: false});\r\n\r\n    sendMessage = message => {\r\n        if(!this.state.contact.id) return;\r\n        message.receiver = this.state.contact.id;\r\n        let messages = this.state.messages.concat(message);\r\n        this.setState({messages});\r\n        this.state.socket.emit('message', message)\r\n    }\r\n\r\n    sendType = () => this.state.socket.emit('typing', this.state.contact.id);\r\n\r\n    updateUsersState = users => {\r\n        \r\n        let contacts = this.state.contacts;\r\n        contacts.forEach((element, index) => {\r\n            if(users[element.id]) contacts[index].status = users[element.id];\r\n        });\r\n        this.setState({contacts});\r\n        let contact = this.state.contact;\r\n        if(users[contact.id]) contact.status = users[contact.id];\r\n        this.setState({contact});\r\n    }\r\n\r\n    onChangeNavigate = contact => {\r\n        this.setState({contact}); \r\n        this.state.socket.emit('seen', contact.id);\r\n        let messages = this.state.messages;\r\n        messages.forEach((element, index) => {\r\n            if(element.sender === contact.id) messages[index].seen = true;\r\n        });\r\n        this.setState({messages});\r\n    }\r\n\r\n    userProfileToggle = () => {\r\n        this.setState({userProfile: !this.state.userProfile})\r\n    }\r\n\r\n    profileToggle = () => {\r\n        this.setState({profile: !this.state.profile})\r\n    }\r\n\r\n    // mine, socket disconnect\r\n    logout = () => {\r\n        this.state.socket.disconnect();\r\n        this.setState({ contacts: [], messages: [], contact: {}});\r\n    }\r\n\r\n    render() {\r\n        const {connected, contact, contacts, messages, user } = this.state;\r\n        if(!connected || !contacts || !messages){\r\n            return <Spinner id=\"loader\" color=\"success\" />\r\n        }\r\n\r\n        return (\r\n            <Row className=\"h-100 sections-direction\">\r\n                <div id=\"contacts-section\" className=\"col-6 col-md-4\">\r\n                    <ContactHeader user={user} toggle={this.profileToggle} />\r\n                    <Contacts\r\n                        contacts={contacts}\r\n                        messages={messages}\r\n                        onChangeNavigate={this.onChangeNavigate}\r\n                    />\r\n                    <UserProfile\r\n                        contact={this.state.contact}\r\n                        toggle={this.userProfileToggle}\r\n                        open={this.state.userProfile}\r\n                    />\r\n                    <EditProfile\r\n                        user={this.state.user}\r\n                        toggle={this.profileToggle}\r\n                        open={this.state.profile}\r\n                    />\r\n                </div>\r\n                <div id=\"messages-section\" className=\"col-6 col-md-8\">\r\n                    <ChatHeader\r\n                        contact={contact}\r\n                        typing={this.state.typing} \r\n                        toggle={this.userProfileToggle}\r\n                        logout={this.logout}\r\n                    />\r\n                    {this.renderChat()}\r\n                    <MessageForm sender={this.sendMessage} sendType={this.sendType} />\r\n                </div>\r\n            </Row>\r\n        );\r\n    }\r\n\r\n    renderChat = () => {\r\n        const {contact, user} = this.state;\r\n        if(!contact) return;\r\n        let messages = this.state.messages.filter(e => e.sender === contact.id || e.receiver === contact.id);\r\n        return <Messages user={user} messages={messages} />\r\n    }\r\n}\r\n\r\nexport default Chat;","import React from 'react';\r\n\r\nconst NotFound = props => {\r\n    return (\r\n        <h1>this page is not found</h1>\r\n    );\r\n}\r\n\r\nexport default NotFound;\r\n","export default __webpack_public_path__ + \"static/media/jagulogo.f13dbd3e.jpg\";","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Card, Form, Input, Button } from 'reactstrap';\r\nimport Error from 'components/Error';\r\nimport Logo from 'assets/jagulogo.jpg'; \r\nimport Auth from 'Auth';\r\nimport axios from 'axios';\r\n\r\nclass Register extends React.Component {\r\n    state = {name: \"\", username: \"\", password: \"\", error: \"\"}\r\n\r\n    onChange = e => this.setState({\r\n        [e.target.name]: e.target.value, error: null\r\n    });\r\n\r\n    onSubmit = e => {\r\n        e.preventDefault();\r\n        let data = {\r\n            name: this.state.name, \r\n            username: this.state.username,\r\n            password: this.state.password\r\n        }\r\n        axios.post('/api/auth/register', data)\r\n        .then(res => {\r\n            Auth.login(res.data);\r\n            this.props.history.push('/');\r\n        }).catch(err => {\r\n            this.setState({error: err.response.data.message});\r\n        });\r\n        \r\n    }\r\n\r\n    render() {\r\n        return (\r\n        <Card className=\"auth  col-sm-6 col-lg-3 px-2 \">\r\n            <Form onSubmit={this.onSubmit}>\r\n                <img src={Logo} alt=\"\" className=\"logo\" />\r\n                <h5 className=\"mb-4\">Create Account</h5>\r\n                <Error error={this.state.error}/>\r\n                <Input value={this.state.name} name=\"name\" onChange={this.onChange} placeholder=\"name\" required autoFocus />\r\n                <Input value={this.state.username} name=\"username\" onChange={this.onChange} placeholder=\"username\" required />\r\n                <Input type=\"password\" value={this.state.password} name=\"password\" onChange={this.onChange} placeholder=\"password\" required />\r\n                <Button color=\"dark\" block className=\"mb-3\"> sign up </Button>\r\n                <br/>\r\n                <small><Link to=\"/login\">log in</Link></small>\r\n                <p className=\"m-3 text-muted\">&copy; { new Date().getFullYear() }</p>\r\n            </Form>\r\n        </Card>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Register;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Card, Form, Input, Button } from 'reactstrap';\r\nimport Error from 'components/Error';\r\nimport Logo from 'assets/jagulogo.jpg'; \r\nimport Auth from 'Auth';\r\nimport axios from 'axios';\r\n\r\nclass Login extends React.Component {\r\n    state = { username: \"\", password: \"\", error: \"\"}\r\n\r\n    onChange = e => this.setState({\r\n        [e.target.name]: e.target.value, error: null\r\n    });\r\n\r\n    onSubmit = e => {\r\n        e.preventDefault();\r\n        let data = {\r\n            username: this.state.username,\r\n            password: this.state.password\r\n        }\r\n        axios.post('/api/auth', data)\r\n        .then(res => {\r\n            Auth.login(res.data);\r\n            this.props.history.push('/');\r\n        }).catch(err => {\r\n            this.setState({error: err.response.data.message});\r\n        });\r\n        \r\n    }\r\n\r\n    render() {\r\n        return (\r\n        <Card className=\"auth  col-sm-6 col-lg-3 px-2 \">\r\n            <Form onSubmit={this.onSubmit}>\r\n                <img src={Logo} alt=\"\" className=\"logo\" />\r\n                <h5 className=\"mb-4\">Log in </h5>\r\n                <Error error={this.state.error}/>\r\n                <Input value={this.state.username} name=\"username\" onChange={this.onChange} placeholder=\"username\" required />\r\n                <Input type=\"password\" value={this.state.password} name=\"password\" onChange={this.onChange} placeholder=\"password\" required />\r\n                <Button color=\"dark\" block className=\"mb-3\"> login </Button>\r\n                <br/>\r\n                <small><Link to=\"/register\">sign up</Link></small>\r\n                <p className=\"m-3 text-muted\">&copy; { new Date().getFullYear() }</p>\r\n            </Form>\r\n        </Card>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Login;","export default __webpack_public_path__ + \"static/media/logo.032c304a.png\";","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Card, Form, Input, Button } from \"reactstrap\";\r\nimport { Error } from \"components\";\r\nimport axios from \"axios\";\r\nimport logo from 'assets/logo.png';\r\n\r\n\r\nclass Password extends React.Component {\r\n\r\n    state = {password: '', newPassword: ''};\r\n\r\n    onChange = e => this.setState({\r\n        [e.target.name]: e.target.value, error: null\r\n    });\r\n\r\n    onSubmit = e => {\r\n        e.preventDefault();\r\n        let data = { password: this.state.password, newPassword: this.state.newPassword };\r\n        axios.post('/api/account/password', data)\r\n        .then(res => {\r\n            this.props.history.push('/')\r\n        })\r\n        .catch(err => {\r\n            this.setState({error: err.response.data.message });\r\n        });\r\n    };\r\n\r\n    render(){\r\n        return (\r\n            <Card className=\"auth col-lg-3 col-sm-6\">\r\n                <Form onSubmit={this.onSubmit}>\r\n                    <img src={logo} alt=\"\" width=\"200\"  />\r\n                    <h5 className=\"mb-4\">Password changing</h5>\r\n                    <Error error={this.state.error} />\r\n                    <Input type=\"password\"  value={this.state.password} name=\"password\" onChange={this.onChange} placeholder=\"Password\" required />\r\n                    <Input type=\"password\"  value={this.state.newPassword} name=\"newPassword\" onChange={this.onChange} placeholder=\"The new password\" required />\r\n                    <Button block className=\"mb-3\"> Change </Button>\r\n                    <small><Link to=\"/\">Back</Link></small>\r\n                    <p className=\"m-3 mb-3 text-muted\">&copy; { new Date().getFullYear() }</p>\r\n                </Form>\r\n            </Card>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Password;","import Auth from 'Auth';\nimport React from 'react';\nimport { BrowserRouter as Router, Switch } from 'react-router-dom';\nimport AppRoute from './AppRoute';\nimport {Chat, NotFound, Register, Login, Password} from 'views';\n\n\nclass App extends React.Component {\n\n  constructor(props){\n    super(props);\n    Auth.init();\n  }\n  \n  render() {\n    return (\n      <div id=\"main-container\" className=\"container-fluid\">\n        <Router>\n          <Switch>\n            <AppRoute path=\"/\" exact component={Chat} can={Auth.auth} redirect='/login'/>\n            <AppRoute path=\"/password\" exact component={Password} can={Auth.auth} redirect='/login'/>\n            <AppRoute path=\"/register\" exact component={Register} can={Auth.guest} redirect='/'/>\n            <AppRoute path=\"/login\" exact component={Login} can={Auth.guest} redirect='/'/>\n            <AppRoute component={NotFound}/>\n          </Switch>\n        </Router>\n      </div>\n    );\n  } \n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'moment/locale/ar';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}