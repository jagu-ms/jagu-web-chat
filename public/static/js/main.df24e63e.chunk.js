(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{108:function(e,t,a){},188:function(e,t,a){"use strict";a.r(t);var s=a(2),n=a.n(s),c=a(35),r=a.n(c),o=(a(108),a(109),a(110),a(12)),i=a(13),l=a(15),u=a(14),d=a(20),j=a.n(d),h={login:function(e){localStorage.setItem("user",JSON.stringify(e)),j.a.defaults.headers.common.Authorization=e.token},init:function(){var e=JSON.parse(localStorage.getItem("user"));j.a.defaults.headers.common.Authorization=null!==e?e.token:""},auth:function(){return null!==localStorage.getItem("user")},guest:function(){return null===localStorage.getItem("user")},logout:function(){delete j.a.defaults.headers.common.Authorization,localStorage.removeItem("user")},getToken:function(){var e=JSON.parse(localStorage.getItem("user"));return null!==e?e.token:""},setUser:function(e){var t=JSON.parse(localStorage.getItem("user"));e.token=t.token,localStorage.setItem("user",JSON.stringify(e))}},m=a(28),g=a(11),p=a(46),b=a(103),f=a(1),O=["component","can","redirect"],x=function(e){var t=e.component,a=e.can,s=void 0===a?function(){return!0}:a,n=e.redirect,c=Object(b.a)(e,O);return Object(f.jsx)(g.b,Object(p.a)(Object(p.a)({},c),{},{render:function(e){return s()?Object(f.jsx)(t,Object(p.a)({},e)):Object(f.jsx)(g.a,{to:n})}}))},v=a(195),S=a(189),C=a(197),N=function(e){return e.error?Object(f.jsx)(C.a,{color:"danger",children:e.error}):""},w=function(e){var t=e.src?"uploads/".concat(e.src):"data:image/png;base64,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";return Object(f.jsx)("img",{src:e.file||t,className:"img-fluid rounded-circle mr-3 avatar",alt:""})},y=function(e){return Object(f.jsxs)(S.a,{className:"heading",children:[Object(f.jsx)(w,{src:e.user.avatar}),Object(f.jsx)("div",{children:"contacts"}),Object(f.jsx)("div",{className:"ml-auto nav-link",onClick:e.toggle,children:Object(f.jsx)("li",{className:"fa fa-bars"})})]})},k=a(44),A=a(22),T=a.n(A),I=a(190);T.a.locale("en");var U=function(e){return Object(f.jsxs)("div",{className:"contact",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)(w,{src:e.contact.avatar}),!0===e.contact.status?Object(f.jsx)("i",{className:"fa fa-circle online"}):""]}),Object(f.jsxs)("div",{className:"w-50",children:[Object(f.jsx)("div",{className:"name",children:e.contact.name}),Object(f.jsx)("div",{className:"small last-message",children:e.message?e.message.content:"Click here to start chating"})]}),Object(f.jsxs)("div",{className:"flex-grow-1 text-right",children:[Object(f.jsx)("div",{className:"small text-muted",children:e.message?T()(e.message.date).format("hh:mm a"):""}),e.unseen>0?Object(f.jsx)(I.a,{color:"success",children:e.unseen}):""]})]})},D=a(191),M=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={search:""},e.onSearch=function(t){return e.setState({search:t.target.value})},e.renderContact=function(t,a){if(t.name.includes(e.state.search)){var s=e.props.messages.filter((function(e){return e.sender===t.id||e.receiver===t.id})),n=s[s.length-1],c=s.filter((function(e){return!e.seen&&e.sender===t.id})).length;return Object(f.jsx)("div",{className:"w-100",onClick:e.props.onChangeNavigate.bind(Object(k.a)(e),t),children:Object(f.jsx)(U,{contact:t,message:n,unseen:c})},a)}},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return Object(f.jsxs)("div",{className:"list",children:[Object(f.jsx)(S.a,{className:"search",children:Object(f.jsx)(D.a,{onChange:this.onSearch,placeholder:"search"})}),Object(f.jsx)(S.a,{id:"contacts",children:this.props.contacts.map((function(t,a){return e.renderContact(t,a)}))})]})}}]),a}(n.a.Component),q=a(192),P=a(198),F=a(199),R=a(200),B=a(193),G=Object(g.g)((function(e){return Object(f.jsxs)(S.a,{className:"heading m-0",children:[Object(f.jsx)("div",{onClick:e.toggle,children:Object(f.jsx)(w,{src:e.contact.avatar})}),Object(f.jsxs)("div",{className:"text-left",children:[Object(f.jsx)("div",{children:e.contact?e.contact.name:""}),Object(f.jsx)("small",{children:e.typing?"typing now":!0===e.contact.status?"online now":e.contact.status?T()(e.contact.status).fromNow():void 0})]}),Object(f.jsx)(q.a,{className:"ml-auto",navbar:!0,children:Object(f.jsxs)(P.a,{children:[Object(f.jsx)(F.a,{tag:"a",className:"nav-link",children:Object(f.jsx)("i",{className:"fa fa-ellipsis-v"})}),Object(f.jsxs)(R.a,{children:[Object(f.jsx)(B.a,{onClick:function(t){return e.history.push("/password")},children:"Changing password"}),Object(f.jsx)(B.a,{divider:!0}),Object(f.jsx)(B.a,{onClick:function(){h.logout(),e.logout(),e.history.push("/")},children:"Logout "})]})]})})]})})),E=function(e){return Object(f.jsx)("div",{className:e.message.outgoing?"message-item incoming":"message-item",children:Object(f.jsx)("div",{className:"d-flex flex-row",children:Object(f.jsxs)("div",{className:"body m-1 mr-2",children:[Object(f.jsx)("div",{children:e.message.content}),Object(f.jsx)("span",{className:"small text-muted",children:T()(e.message.date).format("hh:mm a | MMM D")})]})})})},V=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).renderMessage=function(t,a){return t.outgoing=t.receiver!==e.props.user.id,Object(f.jsx)(E,{message:t},a)},e}return Object(i.a)(a,[{key:"render",value:function(){return Object(f.jsx)("div",{id:"messages",children:this.props.messages.map(this.renderMessage)})}}]),a}(n.a.Component),Z=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={message:"",lastType:!1},e.onChange=function(t){return e.setState({message:t.target.value})},e.onSend=function(t){if(e.state.message){var a={content:e.state.message,date:(new Date).getTime()};e.props.sender(a),e.setState({message:""})}},e.onKeyDown=function(t){"Enter"!==t.key||t.shiftKey?(!e.state.lastType||T()()-e.state.lastType>2e3)&&(e.setState({lastType:T()()}),e.props.sendType()):(e.setState({lastType:!1}),e.onSend(),t.preventDefault())},e}return Object(i.a)(a,[{key:"render",value:function(){return Object(f.jsxs)("div",{id:"send-message",children:[Object(f.jsx)(D.a,{type:"textarea",rows:"1",onChange:this.onChange,onKeyDown:this.onKeyDown,value:this.state.message,placeholder:"Write your message here"}),Object(f.jsx)("i",{className:"fa fa-send text-muted px-3 send",onClick:this.onSend})]})}}]),a}(n.a.Component),X=function(e){return Object(f.jsxs)("div",{className:e.open?"side-profile open":"side-profile",children:[Object(f.jsxs)(S.a,{className:"heading",children:[Object(f.jsx)("div",{className:"mr-auto ml-4",children:e.contact.name}),Object(f.jsx)("div",{className:"mr-2 nav-link",onClick:e.toggle,children:Object(f.jsx)("i",{className:"fa fa-arrow-right"})})]}),Object(f.jsxs)("div",{className:"d-flex flex-column overflow-auto",children:[Object(f.jsx)(w,{src:e.contact.avatar}),Object(f.jsxs)("div",{className:"bg-white px-3 py-2",children:[Object(f.jsx)("label",{className:"text-muted",children:"About"}),Object(f.jsx)("p",{children:e.contact.about?e.contact.about:"i'm ".concat(e.contact.name)})]})]})]})},J=a(16),K=a(194),Y=a(99),Q=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).state={name:s.props.user.name,about:s.props.user.about},s.showFileUpload=function(e){return s.fileUpload.current.click()},s.onImageChange=function(e){e.target.files&&e.target.files[0]&&s.setState({image:URL.createObjectURL(e.target.files[0]),avatar:e.target.files[0]})},s.onChange=function(e){var t;return s.setState((t={},Object(J.a)(t,e.target.name,e.target.value),Object(J.a)(t,"error",null),t))},s.onSubmit=function(e){e.preventDefault();var t=new FormData;t.append("name",s.state.name),t.append("about",s.state.about),s.state.avatar&&t.append("avatar",s.state.avatar,s.state.avatar.name),j.a.post("/api/account",t).then(s.props.toggle).catch((function(e){return s.setState({error:e.response.data.message})}))},s.onClose=function(e){s.setState({image:!1,name:s.props.user.name,about:s.props.user.about}),s.props.toggle()},s.fileUpload=n.a.createRef(),s}return Object(i.a)(a,[{key:"render",value:function(){return Object(f.jsxs)("div",{className:this.props.open?"side-profile open":"side-profile",children:[Object(f.jsxs)(S.a,{className:"heading",children:[Object(f.jsx)("div",{className:"mr-auto ml-4",children:"Profile"}),Object(f.jsx)("div",{className:"mr-2 nav-link",onClick:this.onClose,children:Object(f.jsx)("i",{className:"fa fa-arrow-right"})})]}),Object(f.jsx)("div",{className:"d-flex flex-column",style:{overflow:"auto"},children:Object(f.jsxs)(K.a,{onSubmit:this.onSubmit,children:[Object(f.jsx)(N,{error:this.state.error}),Object(f.jsx)("div",{className:"text-center",onClick:this.showFileUpload,children:Object(f.jsx)(w,{src:this.props.user.avatar,file:this.state.image})}),Object(f.jsx)("input",{type:"file",ref:this.fileUpload,onChange:this.onImageChange,className:"d-none"}),Object(f.jsxs)("div",{className:"bg-white px-4 py-2",children:[Object(f.jsx)("label",{className:"text-muted",children:"Name"}),Object(f.jsx)(D.a,{value:this.state.name,name:"name",onChange:this.onChange,required:!0,autoComplete:"off"})]}),Object(f.jsxs)("div",{className:"bg-white px-3 py-2",children:[Object(f.jsx)("label",{className:"text-muted",children:"About"}),Object(f.jsx)(D.a,{value:this.state.about,name:"about",onChange:this.onChange,required:!0,autoComplete:"off"})]}),Object(f.jsx)("div",{className:"bg-white px-3 py-2",children:Object(f.jsx)(Y.a,{block:!0,className:"mt-3",children:"save"})})]})})]})}}]),a}(n.a.Component),L=a(102),z=a.n(L),W=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={contacts:[],contact:{},userProfile:!1,profile:!1},e.initSocketConnection=function(){var t=z()("ws://localhost:3001",{query:"token="+h.getToken()});t.on("connect",(function(){return e.setState({connected:!0})})),t.on("disconnect",(function(){return e.setState({connected:!1})})),t.on("data",(function(t,a,s,n){var c=a[0]||{};e.setState({messages:s,contacts:a,user:t,contact:c},(function(){e.updateUsersState(n)}))})),t.on("new_user",e.onNewUser),t.on("update_user",e.onUpdateUser),t.on("message",e.onNewMessage),t.on("user_status",e.updateUsersState),t.on("typing",e.onTypingMessage),t.on("error",(function(t){"auth_error"===t&&(h.logout(),e.props.history.push("/login"))})),e.setState({socket:t})},e.onNewUser=function(t){var a=e.state.contacts.concat(t);e.setState({contacts:a})},e.onUpdateUser=function(t){if(e.state.user.id===t.id)return e.setState({user:t}),void h.setUser(t);var a=e.state.contacts;a.forEach((function(e,s){e.id===t.id&&(a[s]=t,a[s].status=e.status)})),e.setState({contacts:a}),e.state.contact.id===t.id&&e.setState({contact:t})},e.onNewMessage=function(t){t.sender===e.state.contact.id&&(e.setState({typing:!1}),e.state.socket.emit("seen",e.state.contact.id),t.seen=!0);var a=e.state.messages.concat(t);e.setState({messages:a})},e.onTypingMessage=function(t){if(e.state.contact.id===t){e.setState({typing:t}),clearTimeout(e.state.timeout);var a=setTimeout(e.typingTimeout,3e3);e.setState({timeout:a})}},e.typingTimeout=function(){return e.setState({typing:!1})},e.sendMessage=function(t){if(e.state.contact.id){t.receiver=e.state.contact.id;var a=e.state.messages.concat(t);e.setState({messages:a}),e.state.socket.emit("message",t)}},e.sendType=function(){return e.state.socket.emit("typing",e.state.contact.id)},e.updateUsersState=function(t){var a=e.state.contacts;a.forEach((function(e,s){t[e.id]&&(a[s].status=t[e.id])})),e.setState({contacts:a});var s=e.state.contact;t[s.id]&&(s.status=t[s.id]),e.setState({contact:s})},e.onChangeNavigate=function(t){e.setState({contact:t}),e.state.socket.emit("seen",t.id);var a=e.state.messages;a.forEach((function(e,s){e.sender===t.id&&(a[s].seen=!0)})),e.setState({messages:a})},e.userProfileToggle=function(){e.setState({userProfile:!e.state.userProfile})},e.profileToggle=function(){e.setState({profile:!e.state.profile})},e.logout=function(){e.state.socket.disconnect(),e.setState({contacts:[],messages:[],contact:{}})},e.renderChat=function(){var t=e.state,a=t.contact,s=t.user;if(a){var n=e.state.messages.filter((function(e){return e.sender===a.id||e.receiver===a.id}));return Object(f.jsx)(V,{user:s,messages:n})}},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.initSocketConnection()}},{key:"render",value:function(){var e=this.state,t=e.connected,a=e.contact,s=e.contacts,n=e.messages,c=e.user;return t&&s&&n?Object(f.jsxs)(S.a,{className:"h-100 sections-direction",children:[Object(f.jsxs)("div",{id:"contacts-section",className:"col-6 col-md-4",children:[Object(f.jsx)(y,{user:c,toggle:this.profileToggle}),Object(f.jsx)(M,{contacts:s,messages:n,onChangeNavigate:this.onChangeNavigate}),Object(f.jsx)(X,{contact:this.state.contact,toggle:this.userProfileToggle,open:this.state.userProfile}),Object(f.jsx)(Q,{user:this.state.user,toggle:this.profileToggle,open:this.state.profile})]}),Object(f.jsxs)("div",{id:"messages-section",className:"col-6 col-md-8",children:[Object(f.jsx)(G,{contact:a,typing:this.state.typing,toggle:this.userProfileToggle,logout:this.logout}),this.renderChat(),Object(f.jsx)(Z,{sender:this.sendMessage,sendType:this.sendType})]})]}):Object(f.jsx)(v.a,{id:"loader",color:"success"})}}]),a}(n.a.Component),H=function(e){return Object(f.jsx)("h1",{children:"this page is not found"})},_=a(196),$=a.p+"static/media/jagulogo.f13dbd3e.jpg",ee=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={name:"",username:"",password:"",error:""},e.onChange=function(t){var a;return e.setState((a={},Object(J.a)(a,t.target.name,t.target.value),Object(J.a)(a,"error",null),a))},e.onSubmit=function(t){t.preventDefault();var a={name:e.state.name,username:e.state.username,password:e.state.password};j.a.post("/api/auth/register",a).then((function(t){h.login(t.data),e.props.history.push("/")})).catch((function(t){e.setState({error:t.response.data.message})}))},e}return Object(i.a)(a,[{key:"render",value:function(){return Object(f.jsx)(_.a,{className:"auth  col-sm-6 col-lg-3 px-2 ",children:Object(f.jsxs)(K.a,{onSubmit:this.onSubmit,children:[Object(f.jsx)("img",{src:$,alt:"",className:"logo"}),Object(f.jsx)("h5",{className:"mb-4",children:"Create Account"}),Object(f.jsx)(N,{error:this.state.error}),Object(f.jsx)(D.a,{value:this.state.name,name:"name",onChange:this.onChange,placeholder:"name",required:!0,autoFocus:!0}),Object(f.jsx)(D.a,{value:this.state.username,name:"username",onChange:this.onChange,placeholder:"username",required:!0}),Object(f.jsx)(D.a,{type:"password",value:this.state.password,name:"password",onChange:this.onChange,placeholder:"password",required:!0}),Object(f.jsx)(Y.a,{color:"dark",block:!0,className:"mb-3",children:" sign up "}),Object(f.jsx)("br",{}),Object(f.jsx)("small",{children:Object(f.jsx)(m.b,{to:"/login",children:"log in"})}),Object(f.jsxs)("p",{className:"m-3 text-muted",children:["\xa9 ",(new Date).getFullYear()]})]})})}}]),a}(n.a.Component),te=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={username:"",password:"",error:""},e.onChange=function(t){var a;return e.setState((a={},Object(J.a)(a,t.target.name,t.target.value),Object(J.a)(a,"error",null),a))},e.onSubmit=function(t){t.preventDefault();var a={username:e.state.username,password:e.state.password};j.a.post("/api/auth",a).then((function(t){h.login(t.data),e.props.history.push("/")})).catch((function(t){e.setState({error:t.response.data.message})}))},e}return Object(i.a)(a,[{key:"render",value:function(){return Object(f.jsx)(_.a,{className:"auth  col-sm-6 col-lg-3 px-2 ",children:Object(f.jsxs)(K.a,{onSubmit:this.onSubmit,children:[Object(f.jsx)("img",{src:$,alt:"",className:"logo"}),Object(f.jsx)("h5",{className:"mb-4",children:"Log in "}),Object(f.jsx)(N,{error:this.state.error}),Object(f.jsx)(D.a,{value:this.state.username,name:"username",onChange:this.onChange,placeholder:"username",required:!0}),Object(f.jsx)(D.a,{type:"password",value:this.state.password,name:"password",onChange:this.onChange,placeholder:"password",required:!0}),Object(f.jsx)(Y.a,{color:"dark",block:!0,className:"mb-3",children:" login "}),Object(f.jsx)("br",{}),Object(f.jsx)("small",{children:Object(f.jsx)(m.b,{to:"/register",children:"sign up"})}),Object(f.jsxs)("p",{className:"m-3 text-muted",children:["\xa9 ",(new Date).getFullYear()]})]})})}}]),a}(n.a.Component),ae=a.p+"static/media/logo.032c304a.png",se=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={password:"",newPassword:""},e.onChange=function(t){var a;return e.setState((a={},Object(J.a)(a,t.target.name,t.target.value),Object(J.a)(a,"error",null),a))},e.onSubmit=function(t){t.preventDefault();var a={password:e.state.password,newPassword:e.state.newPassword};j.a.post("/api/account/password",a).then((function(t){e.props.history.push("/")})).catch((function(t){e.setState({error:t.response.data.message})}))},e}return Object(i.a)(a,[{key:"render",value:function(){return Object(f.jsx)(_.a,{className:"auth col-lg-3 col-sm-6",children:Object(f.jsxs)(K.a,{onSubmit:this.onSubmit,children:[Object(f.jsx)("img",{src:ae,alt:"",width:"200"}),Object(f.jsx)("h5",{className:"mb-4",children:"Password changing"}),Object(f.jsx)(N,{error:this.state.error}),Object(f.jsx)(D.a,{type:"password",value:this.state.password,name:"password",onChange:this.onChange,placeholder:"Password",required:!0}),Object(f.jsx)(D.a,{type:"password",value:this.state.newPassword,name:"newPassword",onChange:this.onChange,placeholder:"The new password",required:!0}),Object(f.jsx)(Y.a,{block:!0,className:"mb-3",children:" Change "}),Object(f.jsx)("small",{children:Object(f.jsx)(m.b,{to:"/",children:"Back"})}),Object(f.jsxs)("p",{className:"m-3 mb-3 text-muted",children:["\xa9 ",(new Date).getFullYear()]})]})})}}]),a}(n.a.Component),ne=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(o.a)(this,a),s=t.call(this,e),h.init(),s}return Object(i.a)(a,[{key:"render",value:function(){return Object(f.jsx)("div",{id:"main-container",className:"container-fluid",children:Object(f.jsx)(m.a,{children:Object(f.jsxs)(g.d,{children:[Object(f.jsx)(x,{path:"/",exact:!0,component:W,can:h.auth,redirect:"/login"}),Object(f.jsx)(x,{path:"/password",exact:!0,component:se,can:h.auth,redirect:"/login"}),Object(f.jsx)(x,{path:"/register",exact:!0,component:ee,can:h.guest,redirect:"/"}),Object(f.jsx)(x,{path:"/login",exact:!0,component:te,can:h.guest,redirect:"/"}),Object(f.jsx)(x,{component:H})]})})})}}]),a}(n.a.Component),ce=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,201)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),s(e),n(e),c(e),r(e)}))};r.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(ne,{})}),document.getElementById("root")),ce()}},[[188,1,2]]]);
//# sourceMappingURL=main.df24e63e.chunk.js.map